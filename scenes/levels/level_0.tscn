[gd_scene load_steps=13 format=3 uid="uid://buyxmtqreokne"]

[ext_resource type="Script" path="res://scripts/levels/_level_template.gd" id="1_22xmm"]
[ext_resource type="PackedScene" uid="uid://dhp71vl6av8ov" path="res://scenes/player/player.tscn" id="1_76n75"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="2_180gm"]
[ext_resource type="TileSet" uid="uid://0bkv1680807" path="res://materials/tilesets/test/test_tileset_sonic.tres" id="2_jgkvq"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="3_t1d83"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="4_xh61w"]
[ext_resource type="PackedScene" uid="uid://5hwuhen8i47q" path="res://scenes/_/vein_testing_scene.tscn" id="7_68i2v"]
[ext_resource type="PackedScene" uid="uid://7sgec55gmorl" path="res://scenes/level_parts/releaser.tscn" id="7_syna7"]
[ext_resource type="Texture2D" uid="uid://dauu26baf7b73" path="res://sprites/_/wine.png" id="8_j6fgn"]

[sub_resource type="Resource" id="Resource_po0o5"]
script = ExtResource("4_xh61w")
duration = 1.0
transition = 0
ease = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vjn31"]
size = Vector2(16, 512)

[sub_resource type="Curve2D" id="Curve2D_4g2jm"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 82, 395, 0, 0, 0, 0, 298, 344, 0, 0, 0, 0, 868, 351, 0, 0, 0, 0, 1146, 272, 0, 0, 0, 0, 294, 268, 0, 0, 0, 0, -178, 249, 0, 0, 0, 0, -289, 345, 0, 0, 0, 0, -36, 357, 0, 0, 0, 0, 47, 245, 190.712, 102.06, -190.712, -102.06, -247, 154, -40.7866, 410.387, 40.7866, -410.387, -1737, -436, -6.45552, 352.674, 6.45552, -352.674, -1008, -804, 198.578, -276.845, -198.578, 276.845, -2019, -801)
}
point_count = 13

[node name="Level" type="Node2D"]
script = ExtResource("1_22xmm")

[node name="Camera" type="Node2D" parent="."]
position = Vector2(544, -48)
script = ExtResource("3_t1d83")
priority_override = false
priority = 0
zoom = Vector2(0.5, 0.5)
follow_mode = 2
follow_target = NodePath("../Players/Player0")
follow_parameters/target_offset = Vector2(0, 0)
follow_parameters/damping = true
follow_parameters/damping_value = 10.0
frame_preview = true
pixel_perfect = true
limit/draw_limits = true
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/limit_node_target = NodePath("")
limit/smoothed = false
tween_parameters = SubResource("Resource_po0o5")
tween_on_load = true
inactive_update_mode = 0
metadata/_edit_lock_ = true

[node name="GlobalCamera" type="Camera2D" parent="."]
position = Vector2(544, -48)
zoom = Vector2(0.5, 0.5)
metadata/_edit_lock_ = true

[node name="PhantomCameraHost" type="Node" parent="GlobalCamera"]
script = ExtResource("2_180gm")

[node name="TileMaps" type="Node2D" parent="."]

[node name="TileMap" type="TileMap" parent="TileMaps"]
tile_set = ExtResource("2_jgkvq")
format = 2
layer_0/tile_data = PackedInt32Array(65535, 65537, 0, 0, 65537, 0, 65534, 65537, 0, 65533, 65537, 0, 65532, 65537, 0, 1, 65537, 0, 2, 65537, 0, 3, 65537, 0, 4, 65537, 0, -65532, 589825, 805306378, -131067, 65537, 0, -65531, 65537, 0, 5, 65537, 0, 6, 65537, 0, -65530, 65537, 0, -131066, 65537, 0, 7, 65537, 0, -65529, 65537, 0, -131065, 65537, 0, 8, 65537, 0, -65528, 65537, 0, -131064, 65537, 0, -327677, 65537, 0, -327678, 65537, 0, -327679, 65537, 0, -327680, 65537, 0, -262145, 65537, 0, -262146, 65537, 0, -262147, 65537, 0, -262148, 65537, 0, -131063, 65537, 0, -65527, 65537, 0, 9, 65537, 0, -196599, 65537, 0, -262135, 65537, 0, -327671, 65537, 0, -393207, 65537, 0, -458743, 65537, 0, -524279, 65537, 0, -589815, 65537, 0, -655351, 65537, 0, -720887, 65537, 0, -655355, 65537, 0, -983031, 65537, 0, -917495, 65537, 0, -851959, 65537, 0, -786423, 65537, 0, -983032, 65537, 0, -983033, 65537, 0, -983034, 65537, 0, -983035, 65537, 0, -983036, 65537, 0, -983037, 65537, 0, -720892, 65537, 0, -720893, 65537, 0, -720891, 851969, 9, -917496, 589825, 1342177290, -983038, 65537, 0, -983039, 65537, 0, -983040, 65537, 0, -720894, 65537, 0, -655359, 65537, 0, -589823, 65537, 0, -524287, 65537, 0, -720895, 851969, 1610612745, -458751, 65537, 0, -458752, 65537, 0, -393217, 65537, 0, -393218, 65537, 0, -589825, 65537, 0, -655361, 65537, 0, -589826, 65537, 0, -655362, 65537, 0, -524289, 851969, 1342177289, -524290, 851969, 805306377, -393219, 65537, 0, -393220, 65537, 0, -458756, 65537, 0, -524292, 65537, 0, -589828, 65537, 0, -720897, 65537, 0, -786433, 65537, 0, -851969, 65537, 0, -917505, 65537, 0, -917504, 589825, 10, -458755, 589825, 1610612746, -524288, 589825, 805306378, -720898, 65537, 0, -786434, 65537, 0, -851970, 65537, 0, -917506, 65537, 0, -655364, 65537, 0, -720900, 65537, 0, -786436, 65537, 0, -851972, 65537, 0, -917508, 65537, 0, -983044, 65537, 0, -1048580, 65537, 0, -983042, 851969, 1610612745, -983041, 65537, 0, -1048576, 65537, 0, -1048575, 65537, 0, -1048574, 65537, 0, -1048573, 65537, 0, -1048572, 65537, 0, -1048571, 65537, 0, -1048570, 65537, 0, -1048569, 65537, 0, -1048568, 65537, 0, -1114116, 65537, 0, -1179652, 65537, 0, -1179651, 589825, 10, -1245187, 65537, 0, -1245188, 65537, 0, -1245186, 65537, 0, -1245185, 65537, 0, -1310720, 65537, 0, -1310719, 851969, 1342177289, -1376255, 851969, 9, -1376256, 65537, 0, -1310721, 65537, 0, -1310722, 65537, 0, -1310723, 65537, 0, -1310724, 65537, 0, -1376260, 65537, 0, -1441796, 65537, 0, -1507332, 65537, 0, -1376259, 589825, 1610612746, -1507331, 589825, 10, -1572868, 65537, 0, -1572867, 65537, 0, -1441793, 65537, 0, -1507328, 65537, 0, -1507327, 65537, 0, -1507326, 65537, 0, -1507325, 65537, 0, -1507324, 65537, 0, -1441788, 65537, 0, -1376252, 65537, 0, -1310716, 65537, 0, -1245180, 65537, 0, -1179644, 65537, 0, -1114108, 65537, 0, -1048567, 65537, 0, -1114107, 65537, 0, -1114106, 65537, 0, -1114105, 65537, 0, -1114104, 65537, 0, -1114103, 65537, 0, -1179639, 65537, 0, -1245175, 65537, 0, -1245176, 65537, 0, -1245177, 65537, 0, -1179641, 65537, 0, -1179642, 65537, 0, -1179643, 65537, 0, -1245179, 65537, 0, -1245178, 65537, 0, -1179640, 65537, 0, -1310712, 65537, 0, -1310713, 65537, 0, -1310714, 65537, 0, -1310715, 65537, 0, -1376251, 65537, 0, -1376250, 65537, 0, -1441786, 65537, 0, -1441785, 65537, 0, -1441784, 65537, 0, -1376248, 65537, 0, -1376247, 65537, 0, -1310711, 65537, 0, -1376249, 65537, 0, -1441783, 65537, 0, -1441787, 65537, 0, -1507323, 65537, 0, -1507322, 65537, 0, -1507321, 65537, 0, -1507320, 65537, 0, -1507319, 65537, 0, -1572866, 851969, 1342177289, -1638399, 851969, 805306377, -1638398, 851969, 1342177289, -1638395, 851969, 805306377, -1638394, 851969, 1342177289, -1703933, 589825, 10, -1703932, 589825, 1342177290, -1638401, 589825, 10, -1703936, 589825, 1342177290, -1703935, 65537, 0, -1703934, 65537, 0, -1638402, 65537, 0, -1638403, 65537, 0, -1638404, 65537, 0, -1703940, 65537, 0, -1703939, 65537, 0, -1703938, 65537, 0, -1703937, 65537, 0, -1769472, 65537, 0, -1769471, 65537, 0, -1769470, 65537, 0, -1769469, 65537, 0, -1769468, 65537, 0, -1769467, 65537, 0, -1703931, 65537, 0, -1703930, 65537, 0, -1835003, 65537, 0, -1835004, 65537, 0, -1835005, 65537, 0, -1835006, 65537, 0, -1835007, 65537, 0, -1835008, 65537, 0, -1769473, 65537, 0, -1769474, 65537, 0, -1769475, 65537, 0, -1769476, 65537, 0, -1835002, 851969, 9, -1769466, 65537, 0, -1835012, 65537, 0, -1900548, 65537, 0, -1966084, 65537, 0, -1835011, 589825, 1610612746, -2031620, 65537, 0, -2097156, 65537, 0, -2162692, 65537, 0, -2228228, 65537, 0, -2293764, 65537, 0, -2359300, 65537, 0, -2424836, 65537, 0, -2490372, 65537, 0, -2555908, 65537, 0, -2621444, 65537, 0, -2686980, 65537, 0, -2752516, 65537, 0, -2818052, 65537, 0, -2883588, 65537, 0, -2883587, 65537, 0, -2883586, 65537, 0, -2883585, 65537, 0, -2949120, 65537, 0, -2883584, 65537, 0, -2818048, 65537, 0, -2752512, 65537, 0, -2686976, 65537, 0, -2621440, 65537, 0, -2555904, 65537, 0, -2490368, 65537, 0, -2424832, 65537, 0, -2359296, 65537, 0, -2293760, 65537, 0, -2228224, 65537, 0, -2162688, 65537, 0, -2097152, 65537, 0, -2031616, 851969, 805306377, -2031615, 65537, 0, -2031614, 851969, 1342177289, -2097150, 65537, 0, -2162686, 65537, 0, -2228222, 65537, 0, -2293758, 65537, 0, -2359294, 65537, 0, -2424830, 65537, 0, -2490366, 65537, 0, -2555902, 65537, 0, -2621438, 65537, 0, -2686974, 65537, 0, -2752510, 65537, 0, -2818046, 65537, 0, -2883582, 65537, 0, -2949118, 65537, 0, -2949117, 65537, 0, -2949116, 65537, 0, -2949115, 65537, 0, -2949114, 65537, 0, -2949113, 65537, 0, -2949112, 65537, 0, -2621432, 65537, 0, -2555896, 65537, 0, -2555897, 65537, 0, -2555898, 65537, 0, -2555899, 65537, 0, -2555900, 65537, 0, -2621434, 65537, 0, -2621433, 65537, 0, -2621436, 851969, 1610612745, -2621435, 65537, 0, -2490364, 851969, 805306377, -2490363, 65537, 0, -2490362, 65537, 0, -2490361, 65537, 0, -2490360, 65537, 0, -1638391, 65537, 0, -1572855, 65537, 0, -1703927, 65537, 0, -1769463, 65537, 0, -1834999, 65537, 0, -1900535, 65537, 0, -1966071, 65537, 0, -2031607, 65537, 0, -2097143, 65537, 0, -2162679, 65537, 0, -2228215, 65537, 0, -2293751, 65537, 0, -2359287, 65537, 0, -2424823, 65537, 0, -2490359, 65537, 0, -2555895, 65537, 0, -2621431, 65537, 0, -2686967, 65537, 0, -2752503, 65537, 0, -2818039, 65537, 0, -2883575, 65537, 0, -2949111, 65537, 0, -2424824, 589825, 1342177290, -2686968, 589825, 805306378, -2883576, 589825, 1342177290, -2883581, 589825, 10, -2818051, 589825, 10, -2818049, 589825, 1342177290, -393213, 65537, 0, -458749, 65537, 0, -524285, 65537, 0, -589821, 65537, 0, -655357, 65537, 0, -589820, 65537, 0, -655356, 65537, 0, -655358, 65537, 0, -589822, 65537, 0, -524286, 65537, 0, -458750, 65537, 0, -393214, 65537, 0, -393215, 65537, 0, -393216, 65537, 0, -327681, 65537, 0, -327682, 65537, 0, -327683, 65537, 0, -327684, 65537, 0, -589819, 851969, 1342177289, -524284, 589825, 10, -196600, 589825, 805306378, 131068, 65537, 0, 196604, 65537, 0, 131069, 65537, 0, 196605, 65537, 0, 131070, 65537, 0, 196606, 65537, 0, 131071, 65537, 0, 196607, 65537, 0, 65536, 65537, 0, 131072, 65537, 0, 131073, 65537, 0, 65537, 65537, 0, 262140, 65537, 0, 262141, 65537, 0, 262142, 65537, 0, 262143, 65537, 0, 196608, 65537, 0, 196609, 65537, 0, 196610, 65537, 0, 131074, 65537, 0, 65538, 65537, 0, 196611, 65537, 0, 196612, 65537, 0, 196613, 65537, 0, 196614, 65537, 0, 196615, 65537, 0, 196616, 65537, 0, 196617, 65537, 0, 131081, 65537, 0, 65545, 65537, 0, 65544, 65537, 0, 65543, 65537, 0, 65542, 65537, 0, 65541, 65537, 0, 65540, 65537, 0, 65539, 65537, 0, 131075, 65537, 0, 131076, 65537, 0, 131077, 65537, 0, 131078, 65537, 0, 131079, 65537, 0, 131080, 65537, 0, -4, 327681, 805306373, -3, 327681, 805306373, -2, 327681, 805306373, -1, 327681, 805306373, -65540, 65537, 0, -65539, 65537, 0, -65538, 65537, 0, -65537, 65537, 0, -131073, 65537, 0, -196609, 65537, 0, -196610, 65537, 0, -196611, 65537, 0, -196612, 65537, 0, -131076, 65537, 0, -131075, 65537, 0, -131074, 65537, 0)

[node name="Karusels" type="Node2D" parent="."]

[node name="ReleaserArea" parent="Karusels" instance=ExtResource("7_syna7")]
position = Vector2(640, -256)

[node name="ReleaserArea2" parent="Karusels" instance=ExtResource("7_syna7")]
position = Vector2(-128, -2816)

[node name="ReleaserArea3" parent="Karusels" instance=ExtResource("7_syna7")]
position = Vector2(-128, -2944)

[node name="ReleaserArea4" parent="Karusels" instance=ExtResource("7_syna7")]
position = Vector2(512, -512)

[node name="VeinSystem" parent="Karusels" instance=ExtResource("7_68i2v")]

[node name="Shape" parent="Karusels/VeinSystem/Trigger" index="0"]
position = Vector2(176, -256)
shape = SubResource("RectangleShape2D_vjn31")

[node name="Sprite" parent="Karusels/VeinSystem" index="2"]
z_index = -1
points = PackedVector2Array(-464, 32)
width = 252.0
texture = ExtResource("8_j6fgn")
texture_mode = 2

[node name="Path2D" parent="Karusels/VeinSystem" index="3"]
curve = SubResource("Curve2D_4g2jm")

[node name="0" parent="Karusels/VeinSystem/Path2D" index="0"]
position = Vector2(-346.017, 121.293)
rotation = -2.8999

[node name="1" parent="Karusels/VeinSystem/Path2D" index="1"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="2" parent="Karusels/VeinSystem/Path2D" index="2"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="3" parent="Karusels/VeinSystem/Path2D" index="3"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="4" parent="Karusels/VeinSystem/Path2D" index="4"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="5" parent="Karusels/VeinSystem/Path2D" index="5"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="6" parent="Karusels/VeinSystem/Path2D" index="6"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="7" parent="Karusels/VeinSystem/Path2D" index="7"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="8" parent="Karusels/VeinSystem/Path2D" index="8"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="9" parent="Karusels/VeinSystem/Path2D" index="9"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="10" parent="Karusels/VeinSystem/Path2D" index="10"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="11" parent="Karusels/VeinSystem/Path2D" index="11"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="12" parent="Karusels/VeinSystem/Path2D" index="12"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="13" parent="Karusels/VeinSystem/Path2D" index="13"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="14" parent="Karusels/VeinSystem/Path2D" index="14"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="15" parent="Karusels/VeinSystem/Path2D" index="15"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="16" parent="Karusels/VeinSystem/Path2D" index="16"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="17" parent="Karusels/VeinSystem/Path2D" index="17"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="18" parent="Karusels/VeinSystem/Path2D" index="18"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="19" parent="Karusels/VeinSystem/Path2D" index="19"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="20" parent="Karusels/VeinSystem/Path2D" index="20"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="21" parent="Karusels/VeinSystem/Path2D" index="21"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="22" parent="Karusels/VeinSystem/Path2D" index="22"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="23" parent="Karusels/VeinSystem/Path2D" index="23"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="24" parent="Karusels/VeinSystem/Path2D" index="24"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="25" parent="Karusels/VeinSystem/Path2D" index="25"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="26" parent="Karusels/VeinSystem/Path2D" index="26"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="27" parent="Karusels/VeinSystem/Path2D" index="27"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="28" parent="Karusels/VeinSystem/Path2D" index="28"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="29" parent="Karusels/VeinSystem/Path2D" index="29"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="30" parent="Karusels/VeinSystem/Path2D" index="30"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="31" parent="Karusels/VeinSystem/Path2D" index="31"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="32" parent="Karusels/VeinSystem/Path2D" index="32"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="33" parent="Karusels/VeinSystem/Path2D" index="33"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="34" parent="Karusels/VeinSystem/Path2D" index="34"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="35" parent="Karusels/VeinSystem/Path2D" index="35"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="36" parent="Karusels/VeinSystem/Path2D" index="36"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="37" parent="Karusels/VeinSystem/Path2D" index="37"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="38" parent="Karusels/VeinSystem/Path2D" index="38"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="39" parent="Karusels/VeinSystem/Path2D" index="39"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="40" parent="Karusels/VeinSystem/Path2D" index="40"]
position = Vector2(82, 395)
rotation = -0.231865
progress = 0.0

[node name="PathEnd" parent="Karusels/VeinSystem/Path2D" index="41"]
position = Vector2(-1733.4, -983.419)
rotation = -3.13153

[node name="Label" parent="Karusels/VeinSystem/Path2D/PathEnd" index="1"]
text = "3532.02368164063"

[node name="PathActualStart" parent="Karusels/VeinSystem/Path2D" index="42"]
position = Vector2(-346.017, 121.293)

[node name="Enemies" type="Node2D" parent="."]
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Other" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Label" type="Label" parent="Other"]
offset_left = -368.0
offset_top = -496.0
offset_right = 839.0
offset_bottom = -190.0
scale = Vector2(2.35523, 2.35523)
text = "Нажимай Shift для бега.
Во время бега можно залезать на стены и потолок.
Во время бега по стенам и потолку можно прыгать на Space.
Уже добавил поддержку двух геймпадов.
Есть проблема: можно на стену залезть даже
с углом меньше 135 градусов между стеной
и полом, но я постараюсь починить это как можно
скорее."
metadata/_edit_lock_ = true

[node name="Players" type="Node2D" parent="."]
position = Vector2(-32, -40)
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="Player0" parent="Players" instance=ExtResource("1_76n75")]
position = Vector2(576, -8)
metadata/_edit_group_ = true

[node name="Player1" parent="Players" instance=ExtResource("1_76n75")]
position = Vector2(1056, -264)
collision_layer = 4
last_true_axis = -1
player_index = 1
character_index = 1
metadata/_edit_group_ = true

[node name="Sprite" parent="Players/Player1" index="1"]
self_modulate = Color(1, 0, 0, 1)

[editable path="Karusels/VeinSystem"]
[editable path="Karusels/VeinSystem/Path2D/36"]
[editable path="Karusels/VeinSystem/Path2D/37"]
[editable path="Karusels/VeinSystem/Path2D/38"]
[editable path="Karusels/VeinSystem/Path2D/39"]
[editable path="Karusels/VeinSystem/Path2D/40"]
[editable path="Players/Player0"]
[editable path="Players/Player1"]
